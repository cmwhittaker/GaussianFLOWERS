#%% Turbine performance data taken from FLORIS

import numpy as np
class iea_15MW():
    def __init__(self):
        print("using iea15MW (FIFTEEN) turbine")
        
        self.Cp = np.array([0.0, 0.09331, 0.25314, 0.33415, 0.38052, 0.39738, 0.41089, 0.42102, 0.442, 0.44592, 0.44907, 0.45054, 0.45122, 0.45189, 0.45302, 0.45393, 0.45465, 0.45476, 0.45482, 0.45485, 0.45488, 0.45489, 0.45491, 0.45492, 0.45491, 0.45492, 0.45498, 0.45501, 0.45504, 0.45504, 0.45505, 0.45507, 0.45513, 0.45512, 0.454522, 0.441897, 0.439429, 0.436978, 0.434546, 0.432132, 0.431651, 0.431411, 0.431291, 0.431171, 0.431052, 0.430992, 0.429736, 0.418016, 0.406719, 0.380203, 0.355942, 0.333702, 0.313277, 0.246401, 0.197283, 0.160398, 0.101009, 0.067668, 0.047525, 0.034604, 0.0, 0.0])

        self.Ct = np.array([0.0, 0.819749, 0.801112, 0.808268, 0.821911, 0.822876, 0.823266, 0.830989, 0.834932, 0.833619, 0.831805, 0.829011, 0.826909, 0.824741, 0.82043, 0.816176, 0.8112, 0.809741, 0.808781, 0.808102, 0.807567, 0.807252, 0.806624, 0.806496, 0.806806, 0.806651, 0.80547, 0.804572, 0.803949, 0.803905, 0.803709, 0.803452, 0.801706, 0.801777, 0.768658, 0.707315, 0.698508, 0.690212, 0.682336, 0.674836, 0.673371, 0.672646, 0.672283, 0.671922, 0.671564, 0.671387, 0.66764, 0.635292, 0.607278, 0.548966, 0.501379, 0.460983, 0.425966, 0.321166, 0.251102, 0.201415, 0.125654, 0.085067, 0.061026, 0.045815, 0.0, 0.0])

        self.wind_speed = np.array([0.0, 3.0, 3.5, 4.0, 4.5, 4.75, 5.0, 5.25, 6.0, 6.2, 6.4, 6.5, 6.55, 6.6, 6.7, 6.8, 6.9, 6.92, 6.93, 6.94, 6.95, 6.96, 6.97, 6.98, 6.99, 7.0, 7.5, 8.0, 8.5, 9.0, 9.5, 10.0, 10.25, 10.5, 10.6, 10.7, 10.72, 10.74, 10.76, 10.78, 10.784, 10.786, 10.787, 10.788, 10.789, 10.79, 10.8, 10.9, 11.0, 11.25, 11.5, 11.75, 12.0, 13.0, 14.0, 15.0, 17.5, 20.0, 22.5, 25.01, 25.02, 50.0])

        self.Z_h = 150.0 #height
        self.D = 240.0 #diameter
        self.A = np.pi*(self.D/2)**2 #area

    def Cp_f(self,u):
        return np.interp(u,self.wind_speed,self.Cp)

    def Ct_f(self,u):
        return np.interp(u,self.wind_speed,self.Ct)
    

class iea_10MW():
    def __init__(self):
        print("using iea10MW (TEN) turbine")
        import numpy as np
        self.Cp = np.array([0.0, 0.0, 0.074, 0.3251, 0.3762, 0.4027, 0.4156, 0.423, 0.4274, 0.4293, 0.4298, 0.4298, 0.4298, 0.4298, 0.4298, 0.4298, 0.4298, 0.4298, 0.4298, 0.4298, 0.4298, 0.4298, 0.4298, 0.4298, 0.4298, 0.4298, 0.4298, 0.4298, 0.4298, 0.4305, 0.438256, 0.425908, 0.347037, 0.307306, 0.271523, 0.239552, 0.211166, 0.186093, 0.164033, 0.144688, 0.12776, 0.112969, 0.100062, 0.0888, 0.078975, 0.070401, 0.062913, 0.056368, 0.05064, 0.04562, 0.041216, 0.037344, 0.033935, 0.0, 0.0])

        self.Ct = np.array([0.0, 0.0, 0.7701, 0.7701, 0.7763, 0.7824, 0.782, 0.7802, 0.7772, 0.7719, 0.7768, 0.7768, 0.7768, 0.7768, 0.7768, 0.7768, 0.7768, 0.7768, 0.7768, 0.7768, 0.7768, 0.7768, 0.7768, 0.7768, 0.7768, 0.7768, 0.7768, 0.7768, 0.7768, 0.7675, 0.7651, 0.7587, 0.5056, 0.431, 0.3708, 0.3209, 0.2788, 0.2432, 0.2128, 0.1868, 0.1645, 0.1454, 0.1289, 0.1147, 0.1024, 0.0918, 0.0825, 0.0745, 0.0675, 0.0613, 0.0559, 0.0512, 0.047, 0.0, 0.0])

        self.wind_speed = np.array([0.0, 2.9, 3.0, 4.0, 4.5147, 5.0008, 5.4574, 5.8833, 6.2777, 6.6397, 6.9684, 7.2632, 7.5234, 7.7484, 7.9377, 8.0909, 8.2077, 8.2877, 8.3308, 8.337, 8.3678, 8.4356, 8.5401, 8.6812, 8.8585, 9.0717, 9.3202, 9.6035, 9.921, 10.272, 10.6557, 10.7577, 11.5177, 11.9941, 12.4994, 13.0324, 13.592, 14.1769, 14.7859, 15.4175, 16.0704, 16.7432, 17.4342, 18.1421, 18.8652, 19.6019, 20.3506, 21.1096, 21.8773, 22.6519, 23.4317, 24.215, 25.01, 25.02, 50.0])

        self.Z_h = 119.0 #height
        self.D = 198.0 #diameter
        self.A = np.pi*(self.D/2)**2 #area
        self.U = 25. #cut out speed
        self.name = 'iea_10mw'

    def Cp_f(self,u):
        return np.interp(u,self.wind_speed,self.Cp)

    def Ct_f(self,u):
        return np.interp(u,self.wind_speed,self.Ct)
    